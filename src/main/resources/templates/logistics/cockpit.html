<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head lang="en" th:replace="fragments/head :: head"> </head>
	<body>
	<div lang="en" th:replace="fragments/header :: header"> </div>
	<div class="cockpit" style="display: box;  margin: 2vw; overflow: auto;" >
		<h1>cockpit</h1>
		<div class="orders" style="diplay: box; max-width: 40vw; float:left;">
			<div class="urgent">
				<h1>urgent orders</h1>
				<div class="panel panel-default">
				    <div class="panel-body">
					     <div th:if="${#lists.isEmpty(urgentOrders)}">
							<h2 class="calm"> you have no urgent orders.</h2>
						</div>
						<div th:if="${!#lists.isEmpty(urgentOrders)}">
					    <table id="urgent" class="table table-hover">
					    	<thead>
						    	<tr>
						    		<th>id</th>
						    		<th>client name</th>
						    		<th>delivery adress</th>
						    		<th>status</th>
						    		<th># articles</th>
						    		<th>weight</th>
						    		<th>displacement</th>
						    		<th>delivery date</th>
			<!-- 			    		<th></th> -->
						    		<th></th>
						    	</tr>
						    </thead>
						    <tbody>
							    <div th:if="${#lists.isEmpty(urgentOrders)}">
								<h2 style="background-color: green"> you have no urgent orders.</h2>
								</div>
						    	<tr th:each="order : ${urgentOrders}">
						    		<td><a th:href="@{/orders/{id}(id = ${order.getId()})}" th:text="${order.getId()}"></a></td>
			<!-- 			    		<a th:href="@{/driverview/{id}(id = ${route.getDriver().getId()})}" th:text="${route.getDriver()}"></a> -->
						    		<td th:text="${order.getCustomer()}"></td>
						    		<td th:text="${order.getAddress()}"></td>
						    		<td th:text="${order.getStatus()}"></td>
						    		<td th:text="${order.getOrderItems().size()}"></td>
						    		<td th:text="${order.getWeight()}"></td>
						    		<td th:text="${order.getSize()}"></td>
						    		<td th:text="${order.getDeliveryDateStr()}"></td>
			<!-- 			    		<td><a th:href="@{/orders/{id}(id = ${order.getId()})}">details</a></td> -->
						    		<td><a th:if="${order.isOpen()}" th:href="@{/schedule/{id}(id = ${order.getId()})}"
						    		class="btn btn-success">add to route</a></td>
								</tr>
							</tbody>
			    		</table>
			    		</div>
					</div>
				</div>
			</div>
			<div class="nonUrgent">
				<h1>non urgent orders</h1>
				<div class="panel panel-default">
				    <div class="panel-body">
					    <table id="nonUrgent" class="table table-hover">
					    	<thead>
						    	<tr>
						    		<th>id</th>
						    		<th>client name</th>
						    		<th>delivery adress</th>
						    		<th>status</th>
						    		<th># articles</th>
						    		<th>weight</th>
						    		<th>displacement</th>
						    		<th>delivery date</th>
			<!-- 			    		<th></th> -->
						    		<th></th>
						    	</tr>
						    </thead>
						    <tbody>
						    	<tr th:each="order : ${nonUrgentOrders}">
						    		<td><a th:href="@{/orders/{id}(id = ${order.getId()})}" th:text="${order.getId()}"></a></td>
			<!-- 			    		<a th:href="@{/driverview/{id}(id = ${route.getDriver().getId()})}" th:text="${route.getDriver()}"></a> -->
						    		<td th:text="${order.getCustomer()}"></td>
						    		<td th:text="${order.getAddress()}"></td>
						    		<td th:text="${order.getStatus()}"></td>
						    		<td th:text="${order.getOrderItems().size()}"></td>
						    		<td th:text="${order.getWeight()}"></td>
						    		<td th:text="${order.getSize()}"></td>
						    		<td th:text="${order.getDeliveryDateStr()}"></td>
			<!-- 			    		<td><a th:href="@{/orders/{id}(id = ${order.getId()})}">details</a></td> -->
						    		<td><a th:if="${order.isOpen()}" th:href="@{/schedule/{id}(id = ${order.getId()})}"
						    		class="btn btn-success">add to route</a></td>
								</tr>
							</tbody>
			    		</table>
					</div>
				</div>
			</div>
		</div>
		<div class="routes" style="diplay: box; width: 40vw; float: right;">
			<div class="urgent">
				<h1>routes on tour</h1>
				<div class="panel panel-default">
				    <div class="panel-body">
					     <div th:if="${#lists.isEmpty(startedRoutes)}">
							<h2 class="calm"> currently there are no routes on tour</h2>
						</div>
						<div th:if="${!#lists.isEmpty(startedRoutes)}">
					    <table id="startedRoutes" class="table table-hover">
					    	<thead>
						    	<tr>
						    		<th>id</th>
						    		<th>driver</th>
						    		<th>truck</th>
						    		<th># deliveries</th>
						    		<th>start</th>
						    		<th>estimated end</th>
						    	</tr>
						    </thead>
						    <tbody>
						    	<tr th:each="route : ${startedRoutes}">
						    		<td><a th:href="@{/route/{id}(id = ${route.getId()})}" th:text="${route.getId()}"></a></td>
						    		<td th:text="${route.getDriver()}"></td>
						    		<td th:text="${route.getTruck()}"></td>
						    		<td th:text="${route.countDeliveries()}"></td>
						    		<td th:text="${route.getStartDateStr()}"></td>
						    		<td th:text="${route.getEndDateStr()}"></td>
			<!-- 			    		<td><a th:href="@{/orders/{id}(id = ${order.getId()})}">details</a></td> -->
								</tr>
							</tbody>
			    		</table>
			    		</div>
					</div>
				</div>
			</div>
			<div class="nonUrgent">
				<h1>scheduled routes</h1>
				<div class="panel panel-default">
				    <div class="panel-body">
					     <div th:if="${#lists.isEmpty(scheduledRoutes)}">
							<h2 class="calm"> currently there are no schedule routes</h2>
						</div>
						<div th:if="${!#lists.isEmpty(scheduledRoutes)}">
					    <table id="scheduledRoutes" class="table table-hover">
					    	<thead>
						    	<tr>
						    		<th>id</th>
						    		<th>driver</th>
						    		<th>truck</th>
						    		<th># deliveries</th>
						    		<th>start</th>
						    		<th>estimated end</th>
						    	</tr>
						    </thead>
						    <tbody>
						    	<tr th:each="route : ${scheduledRoutes}">
						    		<td><a th:href="@{/route/{id}(id = ${route.getId()})}" th:text="${route.getId()}"></a></td>
						    		<td th:text="${route.getDriver()}"></td>
						    		<td th:text="${route.getTruck()}"></td>
						    		<td th:text="${route.countDeliveries()}"></td>
						    		<td th:text="${route.getStartDateStr()}"></td>
						    		<td th:text="${route.getEndDateStr()}"></td>
			<!-- 			    		<td><a th:href="@{/orders/{id}(id = ${order.getId()})}">details</a></td> -->
								</tr>
							</tbody>
			    		</table>
			    		</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div lang="en" th:replace="fragments/footer ::footer"> </div>
	</body>
</html>